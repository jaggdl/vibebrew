<div class="mt-8">
  <h3 class="text-lg font-semibold text-gray-900 mb-4">Comments</h3>

  <% comments_list = local_assigns.fetch(:comments) { commentable.comments.order(created_at: :desc) } %>
  <div id="<%= dom_id(commentable, :comments) %>" class="space-y-4 mb-6">
    <% if comments_list.any? %>
      <%= render partial: "comments/comment", collection: comments_list %>
    <% else %>
      <p class="text-gray-500 text-sm">No comments yet.</p>
    <% end %>
  </div>

  <% if local_assigns.fetch(:show_form, true) && commentable.owned_by_current_user? %>
    <%= render "comments/form", commentable: commentable, placeholder: local_assigns[:placeholder] %>
  <% end %>
</div>
