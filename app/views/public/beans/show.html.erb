<%= render "layouts/seo_meta", seo_metadata: @coffee_bean.seo_metadata %>

<div class="mb-4">
  <h1 class="title"><%= @coffee_bean.display_name %></h1>
</div>

<% if @coffee_bean.images.attached? %>
  <div class="flex gap-2">
    <% @coffee_bean.images.each do |image| %>
      <%= image_tag image.variant(resize_to_fill: [384, 384]), class: "h-48 w-48 object-cover rounded" %>
    <% end %>
  </div>
<% end %>

<%= render "coffee_beans/details", coffee_bean: @coffee_bean %>

<% if @coffee_bean.published_recipes.any? %>
  <div class="mt-8">
    <h2 class="font-bold text-xl mb-4">Recipes</h2>
    <div class="space-y-2">
      <% @coffee_bean.published_recipes.each do |recipe| %>
        <%= link_to brew_path(recipe.slug), class: "block card p-4 hover:bg-gray-50" do %>
          <div class="flex items-center justify-between">
            <div>
              <h3 class="font-semibold"><%= recipe.name %></h3>
              <span class="text-sm text-gray-600"><%= recipe.brew_method_name %></span>
            </div>
            <span class="text-gray-400">&rarr;</span>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
<% end %>
