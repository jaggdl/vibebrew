<%= turbo_stream_from @coffee_bean %>

<div class="flex items-center gap-2">
  <%= render "actions", coffee_bean: @coffee_bean %>
  <% if @coffee_bean.generated? %>
    <%= render "shared/publish_dropdown", record: @coffee_bean %>
  <% end %>
</div>

<div class="flex items-center justify-between mb-4">
  <h1 class="title"><%= @coffee_bean.display_name %></h1>
</div>

<%= render "shared/image_gallery", images: @coffee_bean.images %>

<%= render "details", coffee_bean: @coffee_bean %>

<% if @coffee_bean.generated? %>
  <%= render "recipes/list", recipes: @coffee_bean.all_recipes_for(Current.user), coffee_bean: @coffee_bean, title: "Recipes" %>

  <div>
    <h2 class="font-bold text-xl">Generate Recipe</h2>
    <%= render "recipes/form", coffee_bean: @coffee_bean %>
  </div>
<% end %>

<div class="mt-8">
  <%= button_to "Delete Coffee Bean", @coffee_bean, method: :delete, data: { turbo_confirm: "Are you sure you want to delete this coffee bean?" }, class: "px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700" %>
</div>

