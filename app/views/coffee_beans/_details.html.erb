<%= turbo_frame_tag dom_id(coffee_bean, :details) do %>
  <% if coffee_bean.brand.present? %>
    <div class="mt-6 divide-y divide-gray-200 border border-gray-200 rounded-lg overflow-hidden">
      <% if coffee_bean.brand.present? %>
        <div class="flex px-4 py-3 bg-white">
          <div class="w-40 flex-shrink-0 text-sm font-medium text-gray-500">Brand</div>
          <div class="flex-1 text-gray-700"><%= coffee_bean.brand %></div>
        </div>
      <% end %>
      <% if coffee_bean.origin.present? %>
        <div class="flex px-4 py-3 bg-white">
          <div class="w-40 flex-shrink-0 text-sm font-medium text-gray-500">Origin</div>
          <div class="flex-1 text-gray-700"><%= coffee_bean.origin %></div>
        </div>
      <% end %>
      <% if coffee_bean.variety.present? %>
        <div class="flex px-4 py-3 bg-white">
          <div class="w-40 flex-shrink-0 text-sm font-medium text-gray-500">Variety</div>
          <div class="flex-1 text-gray-700 flex flex-wrap gap-1">
            <% coffee_bean.variety.each do |v| %>
              <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-800"><%= v %></span>
            <% end %>
          </div>
        </div>
      <% end %>
      <% if coffee_bean.process.present? %>
        <div class="flex px-4 py-3 bg-white">
          <div class="w-40 flex-shrink-0 text-sm font-medium text-gray-500">Process</div>
          <div class="flex-1 text-gray-700 flex flex-wrap gap-1">
            <% coffee_bean.process.each do |p| %>
              <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"><%= p %></span>
            <% end %>
          </div>
        </div>
      <% end %>
      <% if coffee_bean.tasting_notes.present? %>
        <div class="flex px-4 py-3 bg-white">
          <div class="w-40 flex-shrink-0 text-sm font-medium text-gray-500">Tasting Notes</div>
          <div class="flex-1 text-gray-700 flex flex-wrap gap-1">
            <% coffee_bean.tasting_notes.each do |note| %>
              <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800"><%= note %></span>
            <% end %>
          </div>
        </div>
      <% end %>
      <% if coffee_bean.producer.present? %>
        <div class="flex px-4 py-3 bg-white">
          <div class="w-40 flex-shrink-0 text-sm font-medium text-gray-500">Producer</div>
          <div class="flex-1 text-gray-700"><%= coffee_bean.producer %></div>
        </div>
      <% end %>
      <% if coffee_bean.notes.present? %>
        <div class="flex px-4 py-3 bg-white">
          <div class="w-40 flex-shrink-0 text-sm font-medium text-gray-500">Notes</div>
          <div class="flex-1 text-gray-700"><%= simple_format(coffee_bean.notes, class: "m-0") %></div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="mt-6 p-6 border border-gray-200 rounded-lg bg-gray-50">
      <div class="flex items-center gap-3 text-gray-500">
        <div class="flex gap-1">
          <span class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0ms;"></span>
          <span class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 150ms;"></span>
          <span class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 300ms;"></span>
        </div>
        <span>Extracting coffee bean information from image...</span>
      </div>
    </div>
  <% end %>
<% end %>
