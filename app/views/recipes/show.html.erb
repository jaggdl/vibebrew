<%= turbo_stream_from @recipe %>

<% if @recipe.generated? %>
  <div class="mb-4 flex items-center gap-2">
    <%= render "actions", recipe: @recipe %>
    <%= render "shared/publish_dropdown", record: @recipe %>
  </div>
  <%= render "recipes/header", recipe: @recipe %>
  <%= render "coffee_beans/coffee_bean", coffee_bean: @recipe.coffee_bean %>
  <%= render "recipes/details", recipe: @recipe %>
  <%= render "recipes/steps", recipe: @recipe %>
  <%= render "recipes/comments", recipe: @recipe %>
  <%= render "recipes/iterations", recipe: @recipe %>
  <%= render "recipes/iterate_form", recipe: @recipe %>
<% else %>
  <%= render "recipes/pending", recipe: @recipe %>
<% end %>

<div class="mt-8">
  <%= button_to "Delete Recipe", @recipe, method: :delete, data: { turbo_confirm: "Are you sure you want to delete this recipe?" }, class: "px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700" %>
</div>
